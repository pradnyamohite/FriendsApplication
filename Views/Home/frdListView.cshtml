@using FriendApplication.Models
@model List<FriendApplication.Models.frd_create>
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@


<head>
    @*<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>*@
    <link href="~/Content/bootstrap.css" rel="stylesheet" />

    <link href="https://cdn.datatables.net/1.10.15/css/dataTables.bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/responsive/2.1.1/css/responsive.bootstrap.min.css" rel="stylesheet" />

    @*<script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.15/js/dataTables.bootstrap4.min.js "></script>*@
</head>


<h1>Friend List View</h1>
<div class="container">

    <div class="row">
        <input type="submit" value="Create New" onclick="redirecttonewpage()" />
    </div>
    <br>

    <div style="width:90%; margin:0 auto;">
        @if (Model != null)
        {

        <table class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
            <thead>
                <tr>
                    <th>UserId</th>
                    <th>Fname</th>
                    <th>Lname</th>
                    <th>MobileNo</th>
                    <th>Email</th>
                    <th>Edit</th>
                    <th>Delete</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var data in Model) {
                    using (Html.BeginForm("cnfDelete", "Home", new {id = data.UserId}))
                    {
                <tr>
                    <td>@data.UserId</td>
                    <td>@data.Fname</td>
                    <td>@data.Lname</td>
                    <td>@data.MobileNo</td>
                    <td>@data.Email</td>
                    @* <td><input type="button" value="Edit" id="Edit" name="msg(@data.UserId)"></td>*@
                    <td>@Html.ActionLink("Edit", "Edit", new { id = data.UserId })</td>
                    @*<td>@Html.ActionLink("Delete", "cnfDelete", new { id = data.UserId })</td>*@
                    <td><input type="submit" value="Delete" onclick="return confirm('Are you shure you want to delete recored with id = @data.UserId')" /></td>
                </tr>
                }
                }
            </tbody>
        </table>
        }



    </div>
</div>





@section scripts{
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.15/js/dataTables.bootstrap4.min.js "></script>



    <script>
        function msg(id) {
            alert("UserId", id)
            location.href = "http://localhost:51105/Home/Edit/" + id
           

        }

        //function return confirm(id) {
        //    alert("UserId", id)
        //    $("UserId" , id).parents('li').remove()
        //}

        function redirecttonewpage() {
            location.href = "http://localhost:51105/Home/Create/"
        }
        //$(document).ready(function () {

        //    $("#FrdList").DataTable(
        //        {
        //            "processing": false,
        //            "serverSide": true,
        //            "ajax": {
        //                "url": "/Home/getfrdListView",
        //                "type": "GET",
        //                "datatype": "json"
        //            },
        //            "columns": [
        //                { "data": "UserId", "name": "UserId", "autoWidth": true },
        //                { "data": "Fname", "name": "Fname", "autoWidth": true },
        //                { "data": "Lname", "name": "Lname", "autoWidth": true },
        //                { "data": "MobileNo", "name": "MobileNo", "autoWidth": true },
        //                { "data": "Email", "name": "Email", "autoWidth": true },
        //                { "data": "Password", "name": "Password", "autoWidth": true },
        //            ]
        //        }
        //    )
        //})

    </script>
}